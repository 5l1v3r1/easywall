<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="description" content="Sign in to your personal EasyWall Firewall Control Panel">
    <meta name="author" content="JPylypiw">

    <link rel="icon" href="/static/img/favicon.png">

    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/easywall.css">
    <link rel="stylesheet" href="/static/css/font-awesome.min.css">

    <title>Home Â· EasyWall</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topNavBar" aria-controls="topNavBar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <a class="navbar-brand" href="index.php">
            <i class="fa fa-shield" aria-hidden="true"></i>&nbsp;EasyWall
        </a>

        <div class="collapse navbar-collapse" id="topNavBar">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item active">
                    <a class="nav-link btn" href="index.php">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" href="options.php">Options</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" href="blacklist.php">Blacklist</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" href="whitelist.php">Whitelist</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" href="ports.php">Ports</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" href="apply.php">Apply</a>
                </li>
            </ul>

            <ul class="navbar-nav mr-right my-2 my-lg-0">
                <li class="nav-item">
                    <a class="nav-link btn" title="EasyWall on GitHub" href="https://jpylypiw.github.io/easywall/" target="_blank">
                        <i class="fa fa-github" aria-hidden="true"></i>&nbsp;
                        <span class="d-none d-sm-inline">GitHub</span>
                        <span class="d-lg-none">EasyWall on GitHub</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" title="Need help?" href="#" data-toggle="modal" data-target="#helpModal">
                        <i class="fa fa-support" aria-hidden="true"></i>&nbsp;
                        <span class="d-none d-sm-inline">Help</span>
                        <span class="d-lg-none">Need help?</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" title="Version and Update" href="#" data-toggle="modal" data-target="#versionModal">
                        <i class="fa fa-cloud-download" aria-hidden="true"></i>&nbsp;
                        <span class="d-none d-sm-inline">Update</span>
                        <span class="d-lg-none">Version and Update</span>
                        <span class="badge badge-pill badge-warning">!</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link btn" title="Host Information" href="#" data-toggle="modal" data-target="#hostModal">
                        <i class="fa fa-server" aria-hidden="true"></i>&nbsp;
                        <span class="d-none d-sm-inline">Host</span>
                        <span class="d-lg-none">Host Information</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="cover-container">
        <div class="inner cover">
            <h1 class="cover-heading">EasyWall for IPtables.</h1>
            <p class="lead">EasyWall is a tool for configuring firewalls. Currently, we are supporting the Linux IPTables firewall. EasyWall has been created with the modern languages PHP and BASH. Please note that EasyWall is currently still in alpha state.</p>
            <p class="lead">
                <a href="ports.php" class="btn btn-lg btn-secondary" role="button">Configure Ports</a>
            </p>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalLabel">Help</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Version Modal -->
    <div class="modal fade" id="versionModal" tabindex="-1" role="dialog" aria-labelledby="versionModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="versionModalLabel">Version</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                </div>
                <div class="modal-body">
                    <p>
                        <strong><?php if (version_compare(getCurrentVersion(), getLatestVersion()) >= 0) { echo 'You have installed the current version.'; } else { echo 'New version of EasyWall available!'; } ?></strong>
                    </p>
                    <hr> Your EasyWall version: <b><code><?php echo getCurrentVersion(); ?></code></b><br /> Latest EasyWall version: <b><code><?php echo getLatestVersion(); ?></code></b><br />
                    <hr> Latest commit: <b><code><?php echo getLatestCommitSha(); ?></code></b><br /> Commit date: <b><code><?php echo getLatestCommitDate(); ?> ago</code></b><br />
                    <hr>
                    <p><a href="https://github.com/kingjp/easywall/wiki/update" target="_blank">Click here for directions on updating</a> your EasyWall installation.</p>
                    <p>Please keep in mind to always keep your installation up to date. You have to inform yourself independently about the closure of possible security gaps.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Host Modal -->
    <div class="modal fade" id="hostModal" tabindex="-1" role="dialog" aria-labelledby="hostModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="hostModalLabel">Host Details</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                </div>
                <div class="modal-body">
                    <ul class="list-group" style="word-break: break-word">
                        <?php
                                    foreach($input->server() as $key => $value) {
                                        if (startsWith($key, 'SERVER')) {
                                            echo '<li class="list-group-item align-items-start">';
                                            echo '	<p class="mb-1 w-100"><strong>' . $key . '</strong></p>';
                                            echo '	<p class="mb-0">' . $value . '</p>';
                                            echo '</li>';
                                        }
                                    }
                                ?>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/static/js/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="/static/js/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="/static/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>

</html>